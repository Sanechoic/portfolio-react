{"ast":null,"code":"import _slicedToArray from\"/Users/william/Documents/GitHub/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';// Import the Component component from React\nimport Carousel from'nuka-carousel';import ProjectDataLoader from'./../projectData.js';import{Link}from'react-router-dom';import FsLightbox from'fslightbox-react';import SlideImage from'./../projectPage/slideImage.js';import SlideVideo from'./../projectPage/slideVideo.js';function ProjectCarousel(props){//Carousel Speed\nvar speed=500;// Fixes Carousel not loading initially\nvar carouselRef=useRef();useEffect(function(){setTimeout(function(){carouselRef.current.setDimensions(null);},0);},[]);// Text Slide on and foo\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),textVis=_useState2[0],changeTextVis=_useState2[1];// Changes slide info based on slide\nvar _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentSlide=_useState4[0],changeSlide=_useState4[1];var slideInfo=props.slideInfo;var project=[];if(props.about){// about\nproject={'title':'About Me','category':['all']};}else{//Get project data\nvar projectData=ProjectDataLoader();for(var i=0;i<projectData.length;i++){if(projectData[i].key===props.projectKey){project=projectData[i];//console.log(project)\nbreak;}}slideInfo[0].text=['',project.question,\"Contribution: \".concat(project.contribution),project.year];}// Lightbox\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),lightbox=_useState6[0],toggleLightbox=_useState6[1];useEffect(function(){var handleClick=function handleClick(e){if(carouselRef.current.getChildNodes()[currentSlide].contains(e.target)){toggleLightbox(!lightbox);return;}};// add when mounted\ndocument.addEventListener(\"click\",handleClick);// return function to be called when unmounted\nreturn function(){document.removeEventListener(\"click\",handleClick);};},[lightbox,currentSlide]);return/*#__PURE__*/React.createElement(\"div\",{key:props.projectKey},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(FsLightbox,{toggler:lightbox,customSources:[/*#__PURE__*/React.createElement(\"div\",{className:\"lightbox\"},/*#__PURE__*/React.createElement(\"img\",{src:props.slides[currentSlide].src,alt:\"default\"}))]})),/*#__PURE__*/React.createElement(\"div\",{className:\"carouselWrapper\"},/*#__PURE__*/React.createElement(Carousel,{beforeSlide:function beforeSlide(currentIndex){changeTextVis(false);setTimeout(function(){changeTextVis(true);},speed);},afterSlide:function afterSlide(currentIndex){changeSlide(currentIndex);},enableKeyboardControls:true,slideIndex:currentSlide,disableEdgeSwiping:true,className:\"carousel\",disableAnimation:false,heightMode:\"max\",speed:speed,width:\"100%\",vertical:false,dragging:false,ref:carouselRef,renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomLeftControls:function renderBottomLeftControls(_ref){var previousSlide=_ref.previousSlide,slideCount=_ref.slideCount;return/*#__PURE__*/React.createElement(\"button\",{className:\"carouselPrev shift-left \".concat(currentSlide===0?\"invis\":\"\"),onClick:previousSlide,style:{left:\"100%\",bottom:\"5vh\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-angle-left\"}));},renderBottomRightControls:function renderBottomRightControls(_ref2){var nextSlide=_ref2.nextSlide,slideCount=_ref2.slideCount;return/*#__PURE__*/React.createElement(\"button\",{className:\"carouselNext \".concat(currentSlide===slideCount-1?\"shift-left\":\"shift-right\"),onClick:currentSlide===slideCount-1?function(){return changeSlide(0);}:nextSlide,style:{right:\"100%\",bottom:\"5vh\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"\".concat(currentSlide===slideCount-1?\"fa fa-angle-double-left\":\"fa fa-angle-right\")}));},defaultControlsConfig:{pagingDotsStyle:{fill:\"#4A03FF\"}}},props.slides.map(function(slide){return slide.type==='video'?/*#__PURE__*/React.createElement(SlideVideo,{key:slide.id,src:slide.src}):/*#__PURE__*/React.createElement(SlideImage,{key:slide.id,src:slide.src});}))),/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/projects\",activeCategory:project.category[0]},className:\"similarProjects \".concat(currentSlide===props.slides.length-1?'slideUp':'slideDown')},/*#__PURE__*/React.createElement(\"span\",null,\"\".concat(props.about?'See My Work':'Similar Work'))),/*#__PURE__*/React.createElement(\"a\",{className:\"moreAbout \".concat(currentSlide===props.slides.length-1?'slideUp':'slideDown'),href:project.moreAbout,style:{display:\"\".concat(project.moreAbout?'':'none')},target:\"_blank\",rel:\"noopener noreferrer\"},\"More Detail\"),/*#__PURE__*/React.createElement(\"div\",{className:\"projectTitle\"},/*#__PURE__*/React.createElement(\"h1\",null,project.title),/*#__PURE__*/React.createElement(\"h2\",null,\"0\".concat(currentSlide+1,\" / 0\").concat(props.slides.length))),/*#__PURE__*/React.createElement(\"div\",{className:\"slideInfo \".concat(textVis?'slideIn':'slideOut'),style:{width:slideInfo[currentSlide].width?slideInfo[currentSlide].width:null,top:slideInfo[currentSlide].top}},/*#__PURE__*/React.createElement(\"h2\",null,slideInfo[currentSlide].text[0]),/*#__PURE__*/React.createElement(\"h3\",null,slideInfo[currentSlide].text[1]),/*#__PURE__*/React.createElement(\"h4\",null,slideInfo[currentSlide].text[2]),/*#__PURE__*/React.createElement(\"h5\",null,slideInfo[currentSlide].text[3])));}export default ProjectCarousel;","map":{"version":3,"sources":["/Users/william/Documents/GitHub/portfolio/src/components/projectPage/projectCarousel.js"],"names":["React","useEffect","useRef","useState","Carousel","ProjectDataLoader","Link","FsLightbox","SlideImage","SlideVideo","ProjectCarousel","props","speed","carouselRef","setTimeout","current","setDimensions","textVis","changeTextVis","currentSlide","changeSlide","slideInfo","project","about","projectData","i","length","key","projectKey","text","question","contribution","year","lightbox","toggleLightbox","handleClick","e","getChildNodes","contains","target","document","addEventListener","removeEventListener","slides","src","currentIndex","previousSlide","slideCount","left","bottom","nextSlide","right","pagingDotsStyle","fill","map","slide","type","id","pathname","activeCategory","category","moreAbout","display","title","width","top"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'; // Import the Component component from React\nimport Carousel from 'nuka-carousel';\nimport ProjectDataLoader from './../projectData.js';\nimport { Link } from 'react-router-dom';\nimport FsLightbox from 'fslightbox-react';\nimport SlideImage from './../projectPage/slideImage.js'\nimport SlideVideo from './../projectPage/slideVideo.js'\n\n\nfunction ProjectCarousel(props) {\n  //Carousel Speed\n  const speed=500;\n\n  // Fixes Carousel not loading initially\n  const carouselRef = useRef()\n\n  useEffect(() => {\n    setTimeout(() => {carouselRef.current.setDimensions(null);}, 0);\n  }, [])\n\n  // Text Slide on and foo\n  const [textVis, changeTextVis] = useState(true)\n\n  // Changes slide info based on slide\n  const [currentSlide, changeSlide] = useState(0);\n\n  var slideInfo = props.slideInfo;\n\n  var project = [];\n\n  if (props.about){\n    // about\n     project={\n      'title':'About Me',\n      'category':['all']\n    }\n  } else {\n    //Get project data\n    const projectData = ProjectDataLoader();\n    for (var i =0; i<projectData.length; i++){\n      if (projectData[i].key === props.projectKey){\n        project = projectData[i]\n        //console.log(project)\n        break\n      }\n    }\n    slideInfo[0].text=['', project.question,`Contribution: ${project.contribution}`,project.year]\n  }\n\n  // Lightbox\n  const [lightbox, toggleLightbox] = useState(false)\n\n  useEffect(() => {\n    const handleClick = e => {\n      if (carouselRef.current.getChildNodes()[currentSlide].contains(e.target)){\n        toggleLightbox(!lightbox);\n        return;\n      }\n    };\n    // add when mounted\n    document.addEventListener(\"click\", handleClick);\n    // return function to be called when unmounted\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  }, [lightbox,currentSlide]);\n\n\n\n  return(\n    <div key={props.projectKey}>\n      <>\n        <FsLightbox\n          toggler={ lightbox }\n          customSources={[\n            <div className='lightbox'>\n              <img src={props.slides[currentSlide].src} alt='default'/>\n            </div>\n          ]}\n        />\n      </>\n      <div className=\"carouselWrapper\">\n        <Carousel\n          beforeSlide={currentIndex=>{changeTextVis(false);setTimeout(function(){changeTextVis(true)},speed);}}\n          afterSlide={currentIndex => {changeSlide(currentIndex);}}\n          enableKeyboardControls={true}\n          slideIndex={currentSlide}\n          disableEdgeSwiping={true}\n          className=\"carousel\"\n          disableAnimation={false}\n          heightMode=\"max\"\n          speed={speed}\n          width=\"100%\"\n          vertical={false}\n          dragging={false}\n          ref={carouselRef}\n          renderCenterLeftControls={null}\n          renderCenterRightControls={null}\n          renderBottomLeftControls={({ previousSlide, slideCount }) => (\n            <button\n              className={`carouselPrev shift-left ${currentSlide===0 ? \"invis\":\"\"}`}\n              onClick={previousSlide}\n              style={{left:\"100%\",bottom:\"5vh\"}}\n              >\n              <i className=\"fa fa-angle-left\" />\n            </button>\n          )}\n          renderBottomRightControls={({ nextSlide, slideCount }) => (\n            <button\n              className={`carouselNext ${currentSlide===slideCount-1 ? \"shift-left\":\"shift-right\"}`}\n              onClick={currentSlide===slideCount-1 ? () => changeSlide(0):nextSlide}\n              style={{right:\"100%\",bottom:\"5vh\"}}\n              >\n              <i className={`${currentSlide===slideCount-1 ? \"fa fa-angle-double-left\":\"fa fa-angle-right\"}`}/>\n            </button>\n          )}\n          defaultControlsConfig={{\n            pagingDotsStyle: {\n              fill: \"#4A03FF\"\n            }\n          }}\n          >\n          {props.slides.map((slide) => (\n            (slide.type==='video')?\n            <SlideVideo\n              key={slide.id}\n              src={slide.src}\n              />\n              :\n            <SlideImage\n              key={slide.id}\n              src={slide.src}\n              />\n          ))}\n        </Carousel>\n      </div>\n      <Link to={{pathname:\"/projects\",activeCategory:project.category[0]}} className={`similarProjects ${currentSlide===props.slides.length-1 ? 'slideUp':'slideDown'}`}><span>{`${props.about?'See My Work':'Similar Work'}`}</span></Link>\n      <a className={`moreAbout ${currentSlide===props.slides.length-1 ? 'slideUp':'slideDown'}`} href={project.moreAbout} style={{display:`${project.moreAbout?'':'none'}`}} target=\"_blank\" rel=\"noopener noreferrer\">More Detail</a>\n      <div className=\"projectTitle\">\n        <h1>{project.title}</h1>\n        <h2>{`0${currentSlide+1} / 0${props.slides.length}`}</h2>\n      </div>\n      <div\n        className={`slideInfo ${textVis ? 'slideIn':'slideOut'}`}\n        style={{width:slideInfo[currentSlide].width?slideInfo[currentSlide].width:null,top:slideInfo[currentSlide].top}}\n        >\n        <h2>{slideInfo[currentSlide].text[0]}</h2>\n        <h3>{slideInfo[currentSlide].text[1]}</h3>\n        <h4>{slideInfo[currentSlide].text[2]}</h4>\n        <h5>{slideInfo[currentSlide].text[3]}</h5>\n      </div>\n    </div>\n  )\n}\n\nexport default ProjectCarousel;\n"]},"metadata":{},"sourceType":"module"}