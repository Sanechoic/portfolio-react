{"ast":null,"code":"var _jsxFileName = \"/Users/william/Documents/GitHub/portfolio/src/components/projectPage/projectCarousel.js\";\nimport React, { useEffect, useRef, useState } from 'react'; // Import the Component component from React\n\nimport Carousel from 'nuka-carousel';\nimport ProjectDataLoader from './../projectData.js';\nimport { Link } from 'react-router-dom';\nimport FsLightbox from 'fslightbox-react';\nimport SlideImage from './../projectPage/slideImage.js';\nimport SlideVideo from './../projectPage/slideVideo.js';\n\nfunction ProjectCarousel(props) {\n  //Carousel Speed\n  const speed = 500; // Fixes Carousel not loading initially\n\n  const carouselRef = useRef(); // Text Slide on and foo\n\n  const [textVis, changeTextVis] = useState(true); // Changes slide info based on slide\n\n  const [currentSlide, changeSlide] = useState(0);\n  var slideInfo = props.slideInfo;\n  useEffect(() => {\n    setTimeout(() => {\n      carouselRef.current.setDimensions(null);\n    }, 0);\n    var project = [];\n\n    if (props.about) {\n      // about\n      project = {\n        'title': 'About Me',\n        'category': ['all']\n      };\n    } else {\n      //Get project data\n      const projectData = ProjectDataLoader();\n\n      for (var i = 0; i < projectData.length; i++) {\n        if (projectData[i].key === props.projectKey) {\n          project = projectData[i]; //console.log(project)\n\n          break;\n        }\n      }\n\n      slideInfo[0].text = ['', project.question, `Contribution: ${project.contribution}`, project.year];\n    }\n\n    document.title = project.title;\n  }, []); // Lightbox\n\n  const [lightbox, toggleLightbox] = useState(false);\n  useEffect(() => {\n    const handleClick = e => {\n      if (carouselRef.current.getChildNodes()[currentSlide].contains(e.target)) {\n        toggleLightbox(!lightbox);\n        return;\n      }\n    }; // add when mounted\n\n\n    document.addEventListener(\"click\", handleClick); // return function to be called when unmounted\n\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  }, [lightbox, currentSlide]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: props.projectKey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FsLightbox, {\n    toggler: lightbox,\n    customSources: [/*#__PURE__*/React.createElement(\"div\", {\n      className: \"lightbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: props.slides[currentSlide].src,\n      alt: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"carouselWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    beforeSlide: currentIndex => {\n      changeTextVis(false);\n      setTimeout(function () {\n        changeTextVis(true);\n      }, speed);\n    },\n    afterSlide: currentIndex => {\n      changeSlide(currentIndex);\n    },\n    enableKeyboardControls: true,\n    slideIndex: currentSlide,\n    disableEdgeSwiping: true,\n    className: \"carousel\",\n    disableAnimation: false,\n    heightMode: \"max\",\n    speed: speed,\n    width: \"100%\",\n    vertical: false,\n    dragging: false,\n    ref: carouselRef,\n    renderCenterLeftControls: null,\n    renderCenterRightControls: null,\n    renderBottomLeftControls: ({\n      previousSlide,\n      slideCount\n    }) => /*#__PURE__*/React.createElement(\"button\", {\n      className: `carouselPrev shift-left ${currentSlide === 0 ? \"invis\" : \"\"}`,\n      onClick: previousSlide,\n      style: {\n        left: \"100%\",\n        bottom: \"5vh\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-angle-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    })),\n    renderBottomRightControls: ({\n      nextSlide,\n      slideCount\n    }) => /*#__PURE__*/React.createElement(\"button\", {\n      className: `carouselNext ${currentSlide === slideCount - 1 ? \"shift-left\" : \"shift-right\"}`,\n      onClick: currentSlide === slideCount - 1 ? () => changeSlide(0) : nextSlide,\n      style: {\n        right: \"100%\",\n        bottom: \"5vh\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: `${currentSlide === slideCount - 1 ? \"fa fa-angle-double-left\" : \"fa fa-angle-right\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    })),\n    defaultControlsConfig: {\n      pagingDotsStyle: {\n        fill: \"#4A03FF\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, props.slides.map(slide => slide.type === 'video' ? /*#__PURE__*/React.createElement(SlideVideo, {\n    key: slide.id,\n    src: slide.src,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(SlideImage, {\n    key: slide.id,\n    src: slide.src,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/projects\",\n      activeCategory: project.category[0]\n    },\n    className: `similarProjects ${currentSlide === props.slides.length - 1 ? 'slideUp' : 'slideDown'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 170\n    }\n  }, `${props.about ? 'See My Work' : 'Similar Work'}`)), /*#__PURE__*/React.createElement(\"a\", {\n    className: `moreAbout ${currentSlide === props.slides.length - 1 ? 'slideUp' : 'slideDown'}`,\n    href: project.moreAbout,\n    style: {\n      display: `${project.moreAbout ? '' : 'none'}`\n    },\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, \"More Detail\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"projectTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, project.title), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, `0${currentSlide + 1} / 0${props.slides.length}`)), /*#__PURE__*/React.createElement(\"div\", {\n    className: `slideInfo ${textVis ? 'slideIn' : 'slideOut'}`,\n    style: {\n      width: slideInfo[currentSlide].width ? slideInfo[currentSlide].width : null,\n      top: slideInfo[currentSlide].top\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, slideInfo[currentSlide].text[0]), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, slideInfo[currentSlide].text[1]), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, slideInfo[currentSlide].text[2]), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, slideInfo[currentSlide].text[3])));\n}\n\nexport default ProjectCarousel;","map":{"version":3,"sources":["/Users/william/Documents/GitHub/portfolio/src/components/projectPage/projectCarousel.js"],"names":["React","useEffect","useRef","useState","Carousel","ProjectDataLoader","Link","FsLightbox","SlideImage","SlideVideo","ProjectCarousel","props","speed","carouselRef","textVis","changeTextVis","currentSlide","changeSlide","slideInfo","setTimeout","current","setDimensions","project","about","projectData","i","length","key","projectKey","text","question","contribution","year","document","title","lightbox","toggleLightbox","handleClick","e","getChildNodes","contains","target","addEventListener","removeEventListener","slides","src","currentIndex","previousSlide","slideCount","left","bottom","nextSlide","right","pagingDotsStyle","fill","map","slide","type","id","pathname","activeCategory","category","moreAbout","display","width","top"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD,C,CAA4D;;AAC5D,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;;AAGA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B;AACA,QAAMC,KAAK,GAAC,GAAZ,CAF8B,CAI9B;;AACA,QAAMC,WAAW,GAAGX,MAAM,EAA1B,CAL8B,CAO9B;;AACA,QAAM,CAACY,OAAD,EAAUC,aAAV,IAA2BZ,QAAQ,CAAC,IAAD,CAAzC,CAR8B,CAU9B;;AACA,QAAM,CAACa,YAAD,EAAeC,WAAf,IAA8Bd,QAAQ,CAAC,CAAD,CAA5C;AAEA,MAAIe,SAAS,GAAGP,KAAK,CAACO,SAAtB;AAIAjB,EAAAA,SAAS,CAAC,MAAM;AACdkB,IAAAA,UAAU,CAAC,MAAM;AAACN,MAAAA,WAAW,CAACO,OAAZ,CAAoBC,aAApB,CAAkC,IAAlC;AAAyC,KAAjD,EAAmD,CAAnD,CAAV;AAEA,QAAIC,OAAO,GAAG,EAAd;;AAEA,QAAIX,KAAK,CAACY,KAAV,EAAgB;AACd;AACCD,MAAAA,OAAO,GAAC;AACP,iBAAQ,UADD;AAEP,oBAAW,CAAC,KAAD;AAFJ,OAAR;AAIF,KAND,MAMO;AACL;AACA,YAAME,WAAW,GAAGnB,iBAAiB,EAArC;;AACA,WAAK,IAAIoB,CAAC,GAAE,CAAZ,EAAeA,CAAC,GAACD,WAAW,CAACE,MAA7B,EAAqCD,CAAC,EAAtC,EAAyC;AACvC,YAAID,WAAW,CAACC,CAAD,CAAX,CAAeE,GAAf,KAAuBhB,KAAK,CAACiB,UAAjC,EAA4C;AAC1CN,UAAAA,OAAO,GAAGE,WAAW,CAACC,CAAD,CAArB,CAD0C,CAE1C;;AACA;AACD;AACF;;AACDP,MAAAA,SAAS,CAAC,CAAD,CAAT,CAAaW,IAAb,GAAkB,CAAC,EAAD,EAAKP,OAAO,CAACQ,QAAb,EAAuB,iBAAgBR,OAAO,CAACS,YAAa,EAA5D,EAA8DT,OAAO,CAACU,IAAtE,CAAlB;AACD;;AACDC,IAAAA,QAAQ,CAACC,KAAT,GAAeZ,OAAO,CAACY,KAAvB;AACD,GAxBQ,EAwBN,EAxBM,CAAT,CAjB8B,CA2C9B;;AACA,QAAM,CAACC,QAAD,EAAWC,cAAX,IAA6BjC,QAAQ,CAAC,KAAD,CAA3C;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMoC,WAAW,GAAGC,CAAC,IAAI;AACvB,UAAIzB,WAAW,CAACO,OAAZ,CAAoBmB,aAApB,GAAoCvB,YAApC,EAAkDwB,QAAlD,CAA2DF,CAAC,CAACG,MAA7D,CAAJ,EAAyE;AACvEL,QAAAA,cAAc,CAAC,CAACD,QAAF,CAAd;AACA;AACD;AACF,KALD,CADc,CAOd;;;AACAF,IAAAA,QAAQ,CAACS,gBAAT,CAA0B,OAA1B,EAAmCL,WAAnC,EARc,CASd;;AACA,WAAO,MAAM;AACXJ,MAAAA,QAAQ,CAACU,mBAAT,CAA6B,OAA7B,EAAsCN,WAAtC;AACD,KAFD;AAGD,GAbQ,EAaN,CAACF,QAAD,EAAUnB,YAAV,CAbM,CAAT;AAiBA,sBACE;AAAK,IAAA,GAAG,EAAEL,KAAK,CAACiB,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,uDACE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAGO,QADZ;AAEE,IAAA,aAAa,EAAE,cACb;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAExB,KAAK,CAACiC,MAAN,CAAa5B,YAAb,EAA2B6B,GAArC;AAA0C,MAAA,GAAG,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADa,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAWE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,WAAW,EAAEC,YAAY,IAAE;AAAC/B,MAAAA,aAAa,CAAC,KAAD,CAAb;AAAqBI,MAAAA,UAAU,CAAC,YAAU;AAACJ,QAAAA,aAAa,CAAC,IAAD,CAAb;AAAoB,OAAhC,EAAiCH,KAAjC,CAAV;AAAmD,KADtG;AAEE,IAAA,UAAU,EAAEkC,YAAY,IAAI;AAAC7B,MAAAA,WAAW,CAAC6B,YAAD,CAAX;AAA2B,KAF1D;AAGE,IAAA,sBAAsB,EAAE,IAH1B;AAIE,IAAA,UAAU,EAAE9B,YAJd;AAKE,IAAA,kBAAkB,EAAE,IALtB;AAME,IAAA,SAAS,EAAC,UANZ;AAOE,IAAA,gBAAgB,EAAE,KAPpB;AAQE,IAAA,UAAU,EAAC,KARb;AASE,IAAA,KAAK,EAAEJ,KATT;AAUE,IAAA,KAAK,EAAC,MAVR;AAWE,IAAA,QAAQ,EAAE,KAXZ;AAYE,IAAA,QAAQ,EAAE,KAZZ;AAaE,IAAA,GAAG,EAAEC,WAbP;AAcE,IAAA,wBAAwB,EAAE,IAd5B;AAeE,IAAA,yBAAyB,EAAE,IAf7B;AAgBE,IAAA,wBAAwB,EAAE,CAAC;AAAEkC,MAAAA,aAAF;AAAiBC,MAAAA;AAAjB,KAAD,kBACxB;AACE,MAAA,SAAS,EAAG,2BAA0BhC,YAAY,KAAG,CAAf,GAAmB,OAAnB,GAA2B,EAAG,EADtE;AAEE,MAAA,OAAO,EAAE+B,aAFX;AAGE,MAAA,KAAK,EAAE;AAACE,QAAAA,IAAI,EAAC,MAAN;AAAaC,QAAAA,MAAM,EAAC;AAApB,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE;AAAG,MAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CAjBJ;AAyBE,IAAA,yBAAyB,EAAE,CAAC;AAAEC,MAAAA,SAAF;AAAaH,MAAAA;AAAb,KAAD,kBACzB;AACE,MAAA,SAAS,EAAG,gBAAehC,YAAY,KAAGgC,UAAU,GAAC,CAA1B,GAA8B,YAA9B,GAA2C,aAAc,EADtF;AAEE,MAAA,OAAO,EAAEhC,YAAY,KAAGgC,UAAU,GAAC,CAA1B,GAA8B,MAAM/B,WAAW,CAAC,CAAD,CAA/C,GAAmDkC,SAF9D;AAGE,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAC,MAAP;AAAcF,QAAAA,MAAM,EAAC;AAArB,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE;AAAG,MAAA,SAAS,EAAG,GAAElC,YAAY,KAAGgC,UAAU,GAAC,CAA1B,GAA8B,yBAA9B,GAAwD,mBAAoB,EAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CA1BJ;AAkCE,IAAA,qBAAqB,EAAE;AACrBK,MAAAA,eAAe,EAAE;AACfC,QAAAA,IAAI,EAAE;AADS;AADI,KAlCzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAwCG3C,KAAK,CAACiC,MAAN,CAAaW,GAAb,CAAkBC,KAAD,IACfA,KAAK,CAACC,IAAN,KAAa,OAAd,gBACA,oBAAC,UAAD;AACE,IAAA,GAAG,EAAED,KAAK,CAACE,EADb;AAEE,IAAA,GAAG,EAAEF,KAAK,CAACX,GAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,gBAMA,oBAAC,UAAD;AACE,IAAA,GAAG,EAAEW,KAAK,CAACE,EADb;AAEE,IAAA,GAAG,EAAEF,KAAK,CAACX,GAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,CAxCH,CADF,CAXF,eAkEE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE;AAACc,MAAAA,QAAQ,EAAC,WAAV;AAAsBC,MAAAA,cAAc,EAACtC,OAAO,CAACuC,QAAR,CAAiB,CAAjB;AAArC,KAAV;AAAqE,IAAA,SAAS,EAAG,mBAAkB7C,YAAY,KAAGL,KAAK,CAACiC,MAAN,CAAalB,MAAb,GAAoB,CAAnC,GAAuC,SAAvC,GAAiD,WAAY,EAAhK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAmK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQ,GAAEf,KAAK,CAACY,KAAN,GAAY,aAAZ,GAA0B,cAAe,EAAnD,CAAnK,CAlEF,eAmEE;AAAG,IAAA,SAAS,EAAG,aAAYP,YAAY,KAAGL,KAAK,CAACiC,MAAN,CAAalB,MAAb,GAAoB,CAAnC,GAAuC,SAAvC,GAAiD,WAAY,EAAxF;AAA2F,IAAA,IAAI,EAAEJ,OAAO,CAACwC,SAAzG;AAAoH,IAAA,KAAK,EAAE;AAACC,MAAAA,OAAO,EAAE,GAAEzC,OAAO,CAACwC,SAAR,GAAkB,EAAlB,GAAqB,MAAO;AAAxC,KAA3H;AAAuK,IAAA,MAAM,EAAC,QAA9K;AAAuL,IAAA,GAAG,EAAC,qBAA3L;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAnEF,eAoEE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKxC,OAAO,CAACY,KAAb,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAM,IAAGlB,YAAY,GAAC,CAAE,OAAML,KAAK,CAACiC,MAAN,CAAalB,MAAO,EAAlD,CAFF,CApEF,eAwEE;AACE,IAAA,SAAS,EAAG,aAAYZ,OAAO,GAAG,SAAH,GAAa,UAAW,EADzD;AAEE,IAAA,KAAK,EAAE;AAACkD,MAAAA,KAAK,EAAC9C,SAAS,CAACF,YAAD,CAAT,CAAwBgD,KAAxB,GAA8B9C,SAAS,CAACF,YAAD,CAAT,CAAwBgD,KAAtD,GAA4D,IAAnE;AAAwEC,MAAAA,GAAG,EAAC/C,SAAS,CAACF,YAAD,CAAT,CAAwBiD;AAApG,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK/C,SAAS,CAACF,YAAD,CAAT,CAAwBa,IAAxB,CAA6B,CAA7B,CAAL,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKX,SAAS,CAACF,YAAD,CAAT,CAAwBa,IAAxB,CAA6B,CAA7B,CAAL,CALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKX,SAAS,CAACF,YAAD,CAAT,CAAwBa,IAAxB,CAA6B,CAA7B,CAAL,CANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKX,SAAS,CAACF,YAAD,CAAT,CAAwBa,IAAxB,CAA6B,CAA7B,CAAL,CAPF,CAxEF,CADF;AAoFD;;AAED,eAAenB,eAAf","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'; // Import the Component component from React\nimport Carousel from 'nuka-carousel';\nimport ProjectDataLoader from './../projectData.js';\nimport { Link } from 'react-router-dom';\nimport FsLightbox from 'fslightbox-react';\nimport SlideImage from './../projectPage/slideImage.js'\nimport SlideVideo from './../projectPage/slideVideo.js'\n\n\nfunction ProjectCarousel(props) {\n  //Carousel Speed\n  const speed=500;\n\n  // Fixes Carousel not loading initially\n  const carouselRef = useRef()\n\n  // Text Slide on and foo\n  const [textVis, changeTextVis] = useState(true)\n\n  // Changes slide info based on slide\n  const [currentSlide, changeSlide] = useState(0);\n\n  var slideInfo = props.slideInfo;\n\n\n\n  useEffect(() => {\n    setTimeout(() => {carouselRef.current.setDimensions(null);}, 0);\n\n    var project = [];\n\n    if (props.about){\n      // about\n       project={\n        'title':'About Me',\n        'category':['all']\n      }\n    } else {\n      //Get project data\n      const projectData = ProjectDataLoader();\n      for (var i =0; i<projectData.length; i++){\n        if (projectData[i].key === props.projectKey){\n          project = projectData[i]\n          //console.log(project)\n          break\n        }\n      }\n      slideInfo[0].text=['', project.question,`Contribution: ${project.contribution}`,project.year]\n    }\n    document.title=project.title;\n  }, [])\n\n  // Lightbox\n  const [lightbox, toggleLightbox] = useState(false)\n\n  useEffect(() => {\n    const handleClick = e => {\n      if (carouselRef.current.getChildNodes()[currentSlide].contains(e.target)){\n        toggleLightbox(!lightbox);\n        return;\n      }\n    };\n    // add when mounted\n    document.addEventListener(\"click\", handleClick);\n    // return function to be called when unmounted\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  }, [lightbox,currentSlide]);\n\n\n\n  return(\n    <div key={props.projectKey}>\n      <>\n        <FsLightbox\n          toggler={ lightbox }\n          customSources={[\n            <div className='lightbox'>\n              <img src={props.slides[currentSlide].src} alt='default'/>\n            </div>\n          ]}\n        />\n      </>\n      <div className=\"carouselWrapper\">\n        <Carousel\n          beforeSlide={currentIndex=>{changeTextVis(false);setTimeout(function(){changeTextVis(true)},speed);}}\n          afterSlide={currentIndex => {changeSlide(currentIndex);}}\n          enableKeyboardControls={true}\n          slideIndex={currentSlide}\n          disableEdgeSwiping={true}\n          className=\"carousel\"\n          disableAnimation={false}\n          heightMode=\"max\"\n          speed={speed}\n          width=\"100%\"\n          vertical={false}\n          dragging={false}\n          ref={carouselRef}\n          renderCenterLeftControls={null}\n          renderCenterRightControls={null}\n          renderBottomLeftControls={({ previousSlide, slideCount }) => (\n            <button\n              className={`carouselPrev shift-left ${currentSlide===0 ? \"invis\":\"\"}`}\n              onClick={previousSlide}\n              style={{left:\"100%\",bottom:\"5vh\"}}\n              >\n              <i className=\"fa fa-angle-left\" />\n            </button>\n          )}\n          renderBottomRightControls={({ nextSlide, slideCount }) => (\n            <button\n              className={`carouselNext ${currentSlide===slideCount-1 ? \"shift-left\":\"shift-right\"}`}\n              onClick={currentSlide===slideCount-1 ? () => changeSlide(0):nextSlide}\n              style={{right:\"100%\",bottom:\"5vh\"}}\n              >\n              <i className={`${currentSlide===slideCount-1 ? \"fa fa-angle-double-left\":\"fa fa-angle-right\"}`}/>\n            </button>\n          )}\n          defaultControlsConfig={{\n            pagingDotsStyle: {\n              fill: \"#4A03FF\"\n            }\n          }}\n          >\n          {props.slides.map((slide) => (\n            (slide.type==='video')?\n            <SlideVideo\n              key={slide.id}\n              src={slide.src}\n              />\n              :\n            <SlideImage\n              key={slide.id}\n              src={slide.src}\n              />\n          ))}\n        </Carousel>\n      </div>\n      <Link to={{pathname:\"/projects\",activeCategory:project.category[0]}} className={`similarProjects ${currentSlide===props.slides.length-1 ? 'slideUp':'slideDown'}`}><span>{`${props.about?'See My Work':'Similar Work'}`}</span></Link>\n      <a className={`moreAbout ${currentSlide===props.slides.length-1 ? 'slideUp':'slideDown'}`} href={project.moreAbout} style={{display:`${project.moreAbout?'':'none'}`}} target=\"_blank\" rel=\"noopener noreferrer\">More Detail</a>\n      <div className=\"projectTitle\">\n        <h1>{project.title}</h1>\n        <h2>{`0${currentSlide+1} / 0${props.slides.length}`}</h2>\n      </div>\n      <div\n        className={`slideInfo ${textVis ? 'slideIn':'slideOut'}`}\n        style={{width:slideInfo[currentSlide].width?slideInfo[currentSlide].width:null,top:slideInfo[currentSlide].top}}\n        >\n        <h2>{slideInfo[currentSlide].text[0]}</h2>\n        <h3>{slideInfo[currentSlide].text[1]}</h3>\n        <h4>{slideInfo[currentSlide].text[2]}</h4>\n        <h5>{slideInfo[currentSlide].text[3]}</h5>\n      </div>\n    </div>\n  )\n}\n\nexport default ProjectCarousel;\n"]},"metadata":{},"sourceType":"module"}