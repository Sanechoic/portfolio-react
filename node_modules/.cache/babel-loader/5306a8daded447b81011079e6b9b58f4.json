{"ast":null,"code":"var _jsxFileName = \"/Users/william/Documents/GitHub/portfolio/src/components/TiltPhase6.js\";\nimport React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\n\nclass TiltPhaseSix extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      style: {}\n    };\n    const defaultSettings = {\n      reverse: false,\n      max: 35,\n      perspective: 1000,\n      easing: 'cubic-bezier(.03,.98,.52,.99)',\n      scale: '1.1',\n      speed: '1000',\n      transition: true,\n      axis: null,\n      reset: true\n    };\n    this.width = null;\n    this.height = null;\n    this.left = null;\n    this.top = null;\n    this.transitionTimeout = null;\n    this.updateCall = null;\n    this.element = null;\n    this.settings = { ...defaultSettings,\n      ...this.props.options\n    };\n    this.reverse = this.settings.reverse ? -1 : 1;\n    this.handleMouseEnter = this.handleMouseEnter.bind(this, this.props.handleMouseEnter);\n    this.handleMouseMove = this.handleMouseMove.bind(this, this.props.handleMouseMove);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this, this.props.handleMouseLeave);\n  }\n\n  componentDidMount() {\n    this.element = findDOMNode(this);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.transitionTimeout);\n    cancelAnimationFrame(this.updateCall);\n  }\n\n  handleMouseEnter(cb = () => {}, e) {\n    this.updateElementPosition();\n    this.setTransition();\n    return cb(e);\n  }\n\n  reset() {\n    window.requestAnimationFrame(() => {\n      this.setState(prevState => ({\n        style: { ...prevState.style,\n          transform: `perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`\n        }\n      }));\n    });\n  }\n\n  handleMouseMove(cb = () => {}, e) {\n    e.persist();\n\n    if (this.updateCall !== null) {\n      window.cancelAnimationFrame(this.updateCall);\n    }\n\n    this.event = e;\n    this.updateCall = requestAnimationFrame(this.update.bind(this, e));\n    return cb(e);\n  }\n\n  setTransition() {\n    clearTimeout(this.transitionTimeout);\n    this.setState(prevState => ({\n      style: { ...prevState.style,\n        transition: `${this.settings.speed}ms ${this.settings.easing}`\n      }\n    }));\n    this.transitionTimeout = setTimeout(() => {\n      this.setState(prevState => ({\n        style: { ...prevState.style,\n          transition: ''\n        }\n      }));\n    }, this.settings.speed);\n  }\n\n  handleMouseLeave(cb = () => {}, e) {\n    this.setTransition();\n\n    if (this.settings.reset) {\n      this.reset();\n    }\n\n    return cb(e);\n  }\n\n  getValues(e) {\n    const x = (e.nativeEvent.clientX - this.left) / this.width;\n    const y = (e.nativeEvent.clientY - this.top) / this.height;\n\n    const _x = Math.min(Math.max(x, 0), 1);\n\n    const _y = Math.min(Math.max(y, 0), 1);\n\n    const tiltX = (this.reverse * (this.settings.max / 2 - _x * this.settings.max)).toFixed(2);\n\n    const tiltY = (this.reverse * (_y * this.settings.max - this.settings.max / 2)).toFixed(2);\n    const percentageX = _x * 100;\n    const percentageY = _y * 100;\n    return {\n      tiltX,\n      tiltY,\n      percentageX,\n      percentageY\n    };\n  }\n\n  updateElementPosition() {\n    const rect = this.element.getBoundingClientRect();\n    this.width = this.element.offsetWidth;\n    this.height = this.element.offsetHeight;\n    this.left = rect.left;\n    this.top = rect.top;\n  }\n\n  update(e) {\n    const values = this.getValues(e);\n    this.setState(prevState => ({\n      style: { ...prevState.style,\n        transform: `perspective(${this.settings.perspective}px) rotateX(${this.settings.axis === 'x' ? 0 : values.tiltY}deg) rotateY(${this.settings.axis === 'y' ? 0 : values.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`\n      }\n    }));\n    this.updateCall = null;\n  }\n\n  render() {\n    const style = { ...this.props.style,\n      ...this.state.style\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: style,\n      onMouseEnter: this.handleMouseEnter,\n      onMouseMove: this.handleMouseMove,\n      onMouseLeave: this.handleMouseLeave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\n\nexport default TiltPhaseSix;","map":{"version":3,"sources":["/Users/william/Documents/GitHub/portfolio/src/components/TiltPhase6.js"],"names":["React","Component","findDOMNode","TiltPhaseSix","constructor","props","state","style","defaultSettings","reverse","max","perspective","easing","scale","speed","transition","axis","reset","width","height","left","top","transitionTimeout","updateCall","element","settings","options","handleMouseEnter","bind","handleMouseMove","handleMouseLeave","componentDidMount","componentWillUnmount","clearTimeout","cancelAnimationFrame","cb","e","updateElementPosition","setTransition","window","requestAnimationFrame","setState","prevState","transform","persist","event","update","setTimeout","getValues","x","nativeEvent","clientX","y","clientY","_x","Math","min","_y","tiltX","toFixed","tiltY","percentageX","percentageY","rect","getBoundingClientRect","offsetWidth","offsetHeight","values","render","children"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { findDOMNode } from 'react-dom'\n\nclass TiltPhaseSix extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      style: {}\n    }\n\n    const defaultSettings = {\n      reverse: false,\n      max: 35,\n      perspective: 1000,\n      easing: 'cubic-bezier(.03,.98,.52,.99)',\n      scale: '1.1',\n      speed: '1000',\n      transition: true,\n      axis: null,\n      reset: true\n    }\n\n    this.width = null\n    this.height = null\n    this.left = null\n    this.top = null\n    this.transitionTimeout = null\n    this.updateCall = null\n    this.element = null\n    this.settings = {\n      ...defaultSettings,\n      ...this.props.options,\n    }\n    this.reverse = this.settings.reverse ? -1 : 1\n\n    this.handleMouseEnter = this.handleMouseEnter.bind(this, this.props.handleMouseEnter)\n    this.handleMouseMove = this.handleMouseMove.bind(this, this.props.handleMouseMove)\n    this.handleMouseLeave = this.handleMouseLeave.bind(this, this.props.handleMouseLeave)\n  }\n\n  componentDidMount() {\n    this.element = findDOMNode(this)\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.transitionTimeout)\n    cancelAnimationFrame(this.updateCall)\n  }\n\n  handleMouseEnter(cb = () => { }, e) {\n    this.updateElementPosition()\n    this.setTransition()\n    return cb(e)\n  }\n\n  reset() {\n    window.requestAnimationFrame(() => {\n      this.setState(prevState => ({\n        style: {\n          ...prevState.style,\n          transform: `perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`,\n        }\n      }))\n    })\n  }\n\n  handleMouseMove(cb = () => { }, e) {\n    e.persist()\n\n    if (this.updateCall !== null) {\n      window.cancelAnimationFrame(this.updateCall)\n    }\n\n    this.event = e\n    this.updateCall = requestAnimationFrame(this.update.bind(this, e))\n\n    return cb(e)\n  }\n\n  setTransition() {\n    clearTimeout(this.transitionTimeout)\n\n    this.setState(prevState => ({\n      style: {\n        ...prevState.style,\n        transition: `${this.settings.speed}ms ${this.settings.easing}`,\n      }\n    }))\n\n    this.transitionTimeout = setTimeout(() => {\n      this.setState(prevState => ({\n        style: {\n          ...prevState.style,\n          transition: '',\n        }\n      }))\n    }, this.settings.speed)\n  }\n\n  handleMouseLeave(cb = () => { }, e) {\n    this.setTransition()\n\n    if (this.settings.reset) {\n      this.reset()\n    }\n\n    return cb(e)\n  }\n\n  getValues(e) {\n    const x = (e.nativeEvent.clientX - this.left) / this.width\n    const y = (e.nativeEvent.clientY - this.top) / this.height\n    const _x = Math.min(Math.max(x, 0), 1)\n    const _y = Math.min(Math.max(y, 0), 1)\n\n    const tiltX = (this.reverse * (this.settings.max / 2 - _x * this.settings.max)).toFixed(2)\n    const tiltY = (this.reverse * (_y * this.settings.max - this.settings.max / 2)).toFixed(2)\n\n    const percentageX = _x * 100\n    const percentageY = _y * 100\n\n    return {\n      tiltX,\n      tiltY,\n      percentageX,\n      percentageY,\n    }\n  }\n\n  updateElementPosition() {\n    const rect = this.element.getBoundingClientRect()\n    this.width = this.element.offsetWidth\n    this.height = this.element.offsetHeight\n    this.left = rect.left\n    this.top = rect.top\n  }\n\n  update(e) {\n    const values = this.getValues(e)\n\n    this.setState(prevState => ({\n      style: {\n        ...prevState.style,\n        transform: `perspective(${this.settings.perspective}px) rotateX(${this.settings.axis === 'x' ? 0 : values.tiltY}deg) rotateY(${this.settings.axis === 'y' ? 0 : values.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`,\n      }\n    }))\n\n    this.updateCall = null\n  }\n\n  render() {\n    const style = {\n      ...this.props.style,\n      ...this.state.style\n    }\n\n    return (\n      <div\n        style={style}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseMove={this.handleMouseMove}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default TiltPhaseSix\n"]},"metadata":{},"sourceType":"module"}