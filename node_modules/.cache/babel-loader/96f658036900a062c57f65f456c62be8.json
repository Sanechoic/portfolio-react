{"ast":null,"code":"import _slicedToArray from\"/Users/william/Documents/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';// Import the Component component from React\nimport Carousel from'nuka-carousel';import ProjectDataLoader from'./../projectData.js';import{Link}from'react-router-dom';import SlideImage from'./../projectPage/slideImage.js';import SlideVideo from'./../projectPage/slideVideo.js';function ProjectCarousel(props){//Carousel Speed\nvar speed=500;// Fixes Carousel not loading initially\nvar carouselRef=useRef();// Text Slide on and foo\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),textVis=_useState2[0],changeTextVis=_useState2[1];// Changes slide info based on slide\nvar _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentSlide=_useState4[0],changeSlide=_useState4[1];var slideInfo=props.slideInfo;var project=[];if(props.about){// about\nproject={'title':'About Me','category':['all']};}else{//Get project data\nvar projectData=ProjectDataLoader();for(var i=0;i<projectData.length;i++){if(projectData[i].key===props.projectKey){project=projectData[i];//console.log(project)\nbreak;}}slideInfo[0].text=['',project.question,\"Responsibilties: \".concat(project.contribution),project.year];}useEffect(function(){document.title=project.title;setTimeout(function(){carouselRef.current.setDimensions(null);},0);},[]);// Lightbox\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),lightbox=_useState6[0],toggleLightbox=_useState6[1];useEffect(function(){var handleClick=function handleClick(e){if(carouselRef.current.getChildNodes()[currentSlide].contains(e.target)){toggleLightbox(!lightbox);return;}};// add when mounted\ndocument.addEventListener(\"click\",handleClick);// return function to be called when unmounted\nreturn function(){document.removeEventListener(\"click\",handleClick);};},[lightbox,currentSlide]);return/*#__PURE__*/React.createElement(\"div\",{key:props.projectKey},/*#__PURE__*/React.createElement(\"div\",{className:\"carouselWrapper\"},/*#__PURE__*/React.createElement(Carousel,{beforeSlide:function beforeSlide(currentIndex){changeTextVis(false);setTimeout(function(){changeTextVis(true);},speed);},afterSlide:function afterSlide(currentIndex){changeSlide(currentIndex);},enableKeyboardControls:true,slideIndex:currentSlide,disableEdgeSwiping:true,className:\"carousel\",disableAnimation:false,heightMode:\"max\",speed:speed,width:\"100%\",vertical:false,dragging:true,ref:carouselRef,renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomLeftControls:function renderBottomLeftControls(_ref){var previousSlide=_ref.previousSlide,slideCount=_ref.slideCount;return/*#__PURE__*/React.createElement(\"button\",{className:\"carouselPrev shift-left \".concat(currentSlide===0?\"invis\":\"\"),onClick:previousSlide,style:{left:\"100%\",bottom:\"5vh\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-angle-left\"}));},renderBottomRightControls:function renderBottomRightControls(_ref2){var nextSlide=_ref2.nextSlide,slideCount=_ref2.slideCount;return/*#__PURE__*/React.createElement(\"button\",{className:\"carouselNext \".concat(currentSlide===slideCount-1?\"shift-left\":\"shift-right\"),onClick:currentSlide===slideCount-1?function(){return changeSlide(0);}:nextSlide,style:{right:\"100%\",bottom:\"5vh\"}},/*#__PURE__*/React.createElement(\"i\",{className:\"\".concat(currentSlide===slideCount-1?\"fa fa-angle-double-left\":\"fa fa-angle-right\")}));},defaultControlsConfig:{pagingDotsStyle:{fill:\"#4A03FF\"}}},props.slides.map(function(slide){return slide.type==='video'?/*#__PURE__*/React.createElement(SlideVideo,{key:slide.id,src:slide.src}):/*#__PURE__*/React.createElement(SlideImage,{key:slide.id,src:slide.src});}))),/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/projects\",activeCategory:project.category[0]},className:\"similarProjects \".concat(currentSlide===props.slides.length-1?'slideUp':'slideDown')},/*#__PURE__*/React.createElement(\"span\",null,\"\".concat(props.about?'See My Work':'Similar Work'))),/*#__PURE__*/React.createElement(\"a\",{className:\"moreAbout \".concat(currentSlide===props.slides.length-1?'slideUp':'slideDown'),href:project.moreAbout,style:{display:\"\".concat(project.moreAbout?'':'none')},target:\"_blank\",rel:\"noopener noreferrer\"},\"More Detail\"),/*#__PURE__*/React.createElement(\"div\",{className:\"projectTitle\"},/*#__PURE__*/React.createElement(\"h1\",null,project.title),/*#__PURE__*/React.createElement(\"h2\",null,\"\".concat(props.about?'':\"0\".concat(currentSlide+1,\" / 0\").concat(props.slides.length)))),/*#__PURE__*/React.createElement(\"div\",{className:\"slideInfo \".concat(textVis?'slideIn':'slideOut'),style:{width:slideInfo[currentSlide].width?slideInfo[currentSlide].width:null,top:slideInfo[currentSlide].top}},/*#__PURE__*/React.createElement(\"h2\",null,slideInfo[currentSlide].text[0]),/*#__PURE__*/React.createElement(\"h3\",null,slideInfo[currentSlide].text[1]),/*#__PURE__*/React.createElement(\"h4\",null,slideInfo[currentSlide].text[2]),/*#__PURE__*/React.createElement(\"h5\",null,slideInfo[currentSlide].text[3])));}export default ProjectCarousel;","map":{"version":3,"sources":["/Users/william/Documents/portfolio/src/components/projectPage/projectCarousel.js"],"names":["React","useEffect","useRef","useState","Carousel","ProjectDataLoader","Link","SlideImage","SlideVideo","ProjectCarousel","props","speed","carouselRef","textVis","changeTextVis","currentSlide","changeSlide","slideInfo","project","about","projectData","i","length","key","projectKey","text","question","contribution","year","document","title","setTimeout","current","setDimensions","lightbox","toggleLightbox","handleClick","e","getChildNodes","contains","target","addEventListener","removeEventListener","currentIndex","previousSlide","slideCount","left","bottom","nextSlide","right","pagingDotsStyle","fill","slides","map","slide","type","id","src","pathname","activeCategory","category","moreAbout","display","width","top"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'; // Import the Component component from React\nimport Carousel from 'nuka-carousel';\nimport ProjectDataLoader from './../projectData.js';\nimport { Link } from 'react-router-dom';\nimport SlideImage from './../projectPage/slideImage.js'\nimport SlideVideo from './../projectPage/slideVideo.js'\n\n\nfunction ProjectCarousel(props) {\n  //Carousel Speed\n  const speed=500;\n\n  // Fixes Carousel not loading initially\n  const carouselRef = useRef()\n\n  // Text Slide on and foo\n  const [textVis, changeTextVis] = useState(true)\n\n  // Changes slide info based on slide\n  const [currentSlide, changeSlide] = useState(0);\n\n  var slideInfo = props.slideInfo;\n\n  var project = [];\n\n  if (props.about){\n    // about\n     project={\n      'title':'About Me',\n      'category':['all']\n    }\n  } else {\n    //Get project data\n    const projectData = ProjectDataLoader();\n    for (var i =0; i<projectData.length; i++){\n      if (projectData[i].key === props.projectKey){\n        project = projectData[i]\n        //console.log(project)\n        break\n      }\n    }\n    slideInfo[0].text=['', project.question,`Responsibilties: ${project.contribution}`,project.year]\n  }\n\n  useEffect(() => {\n    document.title=project.title;\n    setTimeout(() => {carouselRef.current.setDimensions(null);}, 0);\n  }, [])\n\n  // Lightbox\n  const [lightbox, toggleLightbox] = useState(false)\n\n  useEffect(() => {\n    const handleClick = e => {\n      if (carouselRef.current.getChildNodes()[currentSlide].contains(e.target)){\n        toggleLightbox(!lightbox);\n        return;\n      }\n    };\n    // add when mounted\n    document.addEventListener(\"click\", handleClick);\n    // return function to be called when unmounted\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  }, [lightbox,currentSlide]);\n\n\n\n  return(\n    <div key={props.projectKey}>\n      <div className=\"carouselWrapper\">\n        <Carousel\n          beforeSlide={currentIndex=>{changeTextVis(false);setTimeout(function(){changeTextVis(true)},speed);}}\n          afterSlide={currentIndex => {changeSlide(currentIndex);}}\n          enableKeyboardControls={true}\n          slideIndex={currentSlide}\n          disableEdgeSwiping={true}\n          className=\"carousel\"\n          disableAnimation={false}\n          heightMode=\"max\"\n          speed={speed}\n          width=\"100%\"\n          vertical={false}\n          dragging={true}\n          ref={carouselRef}\n          renderCenterLeftControls={null}\n          renderCenterRightControls={null}\n          renderBottomLeftControls={({ previousSlide, slideCount }) => (\n            <button\n              className={`carouselPrev shift-left ${currentSlide===0 ? \"invis\":\"\"}`}\n              onClick={previousSlide}\n              style={{left:\"100%\",bottom:\"5vh\"}}\n              >\n              <i className=\"fa fa-angle-left\" />\n            </button>\n          )}\n          renderBottomRightControls={({ nextSlide, slideCount }) => (\n            <button\n              className={`carouselNext ${currentSlide===slideCount-1 ? \"shift-left\":\"shift-right\"}`}\n              onClick={currentSlide===slideCount-1 ? () => changeSlide(0):nextSlide}\n              style={{right:\"100%\",bottom:\"5vh\"}}\n              >\n              <i className={`${currentSlide===slideCount-1 ? \"fa fa-angle-double-left\":\"fa fa-angle-right\"}`}/>\n            </button>\n          )}\n          defaultControlsConfig={{\n            pagingDotsStyle: {\n              fill: \"#4A03FF\"\n            }\n          }}\n          >\n          {props.slides.map((slide) => (\n            (slide.type==='video')?\n            <SlideVideo\n              key={slide.id}\n              src={slide.src}\n              />\n              :\n            <SlideImage\n              key={slide.id}\n              src={slide.src}\n              />\n          ))}\n        </Carousel>\n      </div>\n      <Link to={{pathname:\"/projects\",activeCategory:project.category[0]}} className={`similarProjects ${currentSlide===props.slides.length-1 ? 'slideUp':'slideDown'}`}><span>{`${props.about?'See My Work':'Similar Work'}`}</span></Link>\n      <a className={`moreAbout ${currentSlide===props.slides.length-1 ? 'slideUp':'slideDown'}`} href={project.moreAbout} style={{display:`${project.moreAbout?'':'none'}`}} target=\"_blank\" rel=\"noopener noreferrer\">More Detail</a>\n      <div className=\"projectTitle\">\n        <h1>{project.title}</h1>\n        <h2>{ `${props.about ? '':`0${currentSlide+1} / 0${props.slides.length}`}`}</h2>\n      </div>\n      <div\n        className={`slideInfo ${textVis ? 'slideIn':'slideOut'}`}\n        style={{width:slideInfo[currentSlide].width?slideInfo[currentSlide].width:null,top:slideInfo[currentSlide].top}}\n        >\n        <h2>{slideInfo[currentSlide].text[0]}</h2>\n        <h3>{slideInfo[currentSlide].text[1]}</h3>\n        <h4>{slideInfo[currentSlide].text[2]}</h4>\n        <h5>{slideInfo[currentSlide].text[3]}</h5>\n      </div>\n    </div>\n  )\n}\n\nexport default ProjectCarousel;\n"]},"metadata":{},"sourceType":"module"}